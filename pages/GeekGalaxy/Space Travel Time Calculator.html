<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Travel Time Calculator | Geek Galaxy</title>

    <!-- Enhanced Social Media Meta Tags -->
    <meta property="og:title" content="Space Travel Time Calculator | Plan Your Interstellar Journey">
    <meta property="og:description"
        content="Calculate travel times to destinations across the galaxy using real spacecraft and Star Trek ships. From SpaceX to USS Enterprise!">
    <meta property="og:image" content="https://docket.one/social-preview.jpg">
    <meta property="og:url" content="https://docket.one/pages/GeekGalaxy/Space%20Travel%20Time%20Calculator.html">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Docket One Calculators">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Space Travel Time Calculator">
    <meta name="twitter:description"
        content="Calculate travel times across the galaxy using SpaceX, Star Trek ships, and more!">
    <meta name="twitter:image" content="https://docket.one/social-preview.jpg">

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../../common/navbar-enhanced.css">
    <link rel="stylesheet" href="../../common/santa-improvements.css">
	<link rel="stylesheet" href="../../styles/global.css">
	<link rel="stylesheet" href="../../styles/galaxyquest.css">
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.3/dist/cdn.min.js"></script>

    <link rel="stylesheet" href="../../common/footer/premium-footer.css">
    <script src="../../common/footer/premium-footer.js"></script>
    <style>
        /* ADDED: Hide elements managed by Alpine.js until it's ready */
        [x-cloak] { display: none !important; }
    </style>
</head>

<body> <!-- REMOVED: x-data from body tag -->
    <!-- Enhanced Navigation Bar -->
    <nav class="main-nav">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="../../index.html">üßÆ Docket One</a>
            </div>
            <div class="nav-search">
                <input type="text" id="calc-search" placeholder="Search calculators..." class="search-input"
                    aria-label="Search calculators">
                <div id="search-results" class="search-results"></div>
            </div>
            <ul class="nav-links">
                <li><a href="../BigKidMath/index.html" class="category-link">Big Kid Math</a></li>
                <li><a href="../CipherLab/index.html" class="category-link">Cipher Lab</a></li>
                <li><a href="../GeekGalaxy/index.html" class="category-link">Geek Galaxy</a></li>
                <li><a href="../LifeHacks/index.html" class="category-link">Life Hacks</a></li>
                <li><a href="../Math_Magik/index.html" class="category-link">Math Magik</a></li>
                <li><a href="../Otaku_Ops/index.html" class="category-link">Otaku Ops</a></li>
                <li><a href="../../index.html" class="home-link">üè† Home</a></li>
            </ul>
            <button class="mobile-menu-btn" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <h1>Space Travel Time Calculator</h1>
        <p>Plan your interstellar journey with scientific precision</p>
    </section>

    <main class="container">
        <div class="calculator-grid" x-data="spaceCalculator()">
            <!-- Mission Planning Panel -->
            <div class="panel">
                <h2>üöÄ Mission Planning</h2>

                <!-- Destination Selection -->
                <h3 style="margin-bottom: 1rem;">Select Destination</h3>
                <div class="destination-grid">
                    <template x-for="(destination, key) in destinations" :key="key">
                        <div class="destination-option" :class="{ active: selectedDestination === key }"
                            :style="`--destination-color: ${destination.color}; --destination-rgb: ${destination.rgb}`"
                            @click="selectDestination(key)">
                            <div class="destination-icon" x-text="destination.emoji"></div>
                            <div class="destination-info">
                                <h3 x-text="destination.name"></h3>
                                <p x-text="`${destination.distanceDisplay} (avg)`"></p>
                                <p class="distance-note" x-text="destination.distanceNote"></p>
                            </div>
                        </div>
                    </template>
                </div>
            </div>

            <!-- Journey Analysis Panel -->
            <div class="panel">
                <h2>üåå Journey Analysis</h2>

                <!-- Propulsion Selection Dropdown -->
                <div class="propulsion-dropdown">
                    <label style="display: block; font-weight: 600; margin-bottom: 0.5rem;">Propulsion System</label>
                    <select x-model="selectedPropulsion" @change="calculateJourney()">
                        <template x-for="(propulsion, key) in propulsionSystems" :key="key">
                            <option :value="key" x-text="propulsion.name + ' - ' + propulsion.speedDisplay"></option>
                        </template>
                    </select>
                </div>

                <div x-show="travelTime > 0" x-transition>
                    <div style="text-align: center; margin: 2rem 0;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">
                            <span :style="`color: ${destinations[selectedDestination]?.color}`"
                                x-text="destinations[selectedDestination]?.emoji"></span>
                        </div>
                        <div style="font-size: 2rem; font-weight: 800; color: var(--space-blue); margin-bottom: 0.5rem;"
                            x-text="formatTime(travelTime)"></div>
                        <div style="color: var(--text-dim);">Travel Time to <span
                                x-text="destinations[selectedDestination]?.name"></span></div>
                        <p class="distance-note" style="margin-top: 0.5rem;" x-text="destinations[selectedDestination]?.distanceNote"></p>
                    </div>

                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin-top: 2rem;">
                        <div
                            style="background: var(--space-dark); padding: 1rem; border-radius: var(--radius); text-align: center;">
                            <div style="font-size: 1.25rem; font-weight: 700; color: var(--nebula-purple);"
                                x-text="formatSpeed(currentSpeed)"></div>
                            <div style="font-size: 0.875rem; color: var(--text-dim);">Average Speed</div>
                        </div>
                        <div
                            style="background: var(--space-dark); padding: 1rem; border-radius: var(--radius); text-align: center;">
                            <div style="font-size: 1.25rem; font-weight: 700; color: var(--star-gold);"
                                x-text="formatDistance(currentDistance)"></div>
                            <div style="font-size: 0.875rem; color: var(--text-dim);">Distance (avg)</div>
                        </div>
                        <div
                            style="background: var(--space-dark); padding: 1rem; border-radius: var(--radius); text-align: center;">
                            <div style="font-size: 1.25rem; font-weight: 700; color: var(--mars-red);"
                                x-text="formatFuel(calculateFuel())"></div>
                            <div style="font-size: 0.875rem; color: var(--text-dim);">Fuel Required</div>
                        </div>
                    </div>

                    <!-- Hohmann Transfer Windows Table -->
                    <div style="margin-top: 2rem;" x-show="selectedDestination && destinations[selectedDestination].hohmannWindows">
                        <h3 style="margin-bottom: 1rem;">üöÄ Upcoming Hohmann Transfer Windows</h3>
                        <div style="overflow-x: auto;">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Year</th>
                                        <th>Month</th>
                                        <th>Optimal Days</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <template x-for="(window, index) in destinations[selectedDestination].hohmannWindows" :key="index">
                                        <tr>
                                            <td x-text="window.year"></td>
                                            <td x-text="window.month"></td>
                                            <td x-text="window.optimalDays + ' days'"></td>
                                        </tr>
                                    </template>
                                </tbody>
                            </table>
                        </div>
                        <p class="distance-note" style="margin-top: 0.5rem;">
                            Hohmann transfers are the most fuel-efficient paths between planets. Windows occur when planets are optimally aligned.
                        </p>
                    </div>

                    <div
                        style="margin-top: 2rem; padding: 1.5rem; background: var(--space-dark); border-radius: var(--radius);">
                        <h3 style="margin-bottom: 1rem;">Mission Details:</h3>
                        <div style="display: grid; gap: 0.5rem;">
                            <div style="display: flex; justify-content: space-between;">
                                <span>Departure:</span>
                                <span style="color: var(--space-blue);">Earth Orbit</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Destination:</span>
                                <span style="color: var(--space-blue);"
                                    x-text="destinations[selectedDestination]?.name"></span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Propulsion:</span>
                                <span style="color: var(--space-blue);"
                                    x-text="propulsionSystems[selectedPropulsion]?.name"></span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Round Trip:</span>
                                <span style="color: var(--space-blue);" x-text="formatTime(travelTime * 2)"></span>
                            </div>
                        </div>

                        <!-- REPLACED: Share Button -->
                        <button class="share-button premium" @click="openShareModal()">
                            <span class="share-icon">üöÄ</span>
                            <span>Share Journey</span>
                        </button>
                    </div>
                </div>

                <div x-show="!selectedDestination || travelTime === 0"
                    style="text-align: center; color: var(--text-dim); padding: 2rem;">
                    Select a destination to calculate travel time
                </div>
            </div>

            <!-- ADDED: Premium Share Modal -->
            <div class="modal-overlay" x-show="showModal" @click.self="showModal = false" x-transition:enter="transition ease-out duration-300"
                x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
                x-transition:leave="transition ease-in duration-200" x-transition:leave-start="opacity-100"
                x-transition:leave-end="opacity-0" x-cloak>
                <div class="modal-content" x-show="showModal"
                    x-transition:enter="transition ease-out duration-300"
                    x-transition:enter-start="opacity-0 transform scale-95"
                    x-transition:enter-end="opacity-100 transform scale-100"
                    x-transition:leave="transition ease-in duration-200"
                    x-transition:leave-start="opacity-100 transform scale-100"
                    x-transition:leave-end="opacity-0 transform scale-95">
            
                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h3 class="modal-title">Share Your Interstellar Journey</h3>
                        <button class="modal-close" @click="showModal = false">&times;</button>
                    </div>
            
                    <!-- Modal Body -->
                    <div class="modal-body">
                        <!-- Image Preview -->
                        <div class="image-preview-container">
                            <img :src="shareImageUrl" alt="Shareable image of the space journey" class="image-preview">
                        </div>
            
                        <!-- Share Actions -->
                        <p class="share-prompt">Share your mission briefing with the world:</p>
                        <div class="share-grid">
                            <button class="modal-share-button" @click="shareGeneral()">
                                <span class="modal-share-icon">üì±</span>
                                <span>Share...</span>
                            </button>
                            <button class="modal-share-button" @click="shareOnTwitter()">
                                <span class="modal-share-icon">üê¶</span>
                                <span>Twitter</span>
                            </button>
                            <button class="modal-share-button" @click="shareOnFacebook()">
                                <span class="modal-share-icon">üìò</span>
                                <span>Facebook</span>
                            </button>
                            <button class="modal-share-button" @click="shareOnLinkedIn()">
                                <span class="modal-share-icon">üíº</span>
                                <span>LinkedIn</span>
                            </button>
                            <button class="modal-share-button" @click="shareOnReddit()">
                                <span class="modal-share-icon">ü§ñ</span>
                                <span>Reddit</span>
                            </button>
                            <button class="modal-share-button" @click="downloadImage()">
                                <span class="modal-share-icon">üíæ</span>
                                <span>Download</span>
                            </button>
                        </div>
                        
                        <!-- Copy Link Section -->
                        <div class="copy-link-section">
                            <input type="text" readonly value="https://docket.one/pages/GeekGalaxy/Space%20Travel%20Time%20Calculator.html" class="copy-link-input">
                            <button class="copy-link-button" @click="copyShareLink($el)">
                                <span>üîó</span>
                                <span>Copy Link</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Hidden canvas for generating share images -->
    <canvas id="shareCanvas" width="1200" height="630" style="display: none;"></canvas>

    <script>
        function spaceCalculator() {
            return {
                selectedDestination: 'mars',
                selectedPropulsion: 'chemical',
                travelTime: 0,
                currentSpeed: 0,
                currentDistance: 0,
                // MODIFIED: State for the new modal
                showModal: false,
                shareImageUrl: '',

                destinations: {
                    'moon': {
                        name: 'Moon',
                        emoji: 'üåô',
                        distanceDisplay: '384,400 km',
                        minDistanceKm: 363300,
                        maxDistanceKm: 405500,
                        avgDistanceKm: 384400,
                        color: '#e5e7eb',
                        rgb: '229, 231, 235',
                        distanceNote: 'Distance varies by ~42,200 km due to elliptical orbit',
                        hohmannWindows: [
							{ year: 2025, month: 'November', optimalDays: 28 },
                            { year: 2026, month: 'February', optimalDays: 30 }]
                    },
                    'mercury': {
                        name: 'Mercury',
                        emoji: '‚òøÔ∏è',
                        distanceDisplay: '77 million km',
                        minDistanceKm: 77000000,
                        maxDistanceKm: 222000000,
                        avgDistanceKm: 77000000,
                        color: '#9ca3af',
                        rgb: '156, 163, 175',
                        distanceNote: 'Distance varies greatly due to orbit (77M-222M km)',
                        hohmannWindows: [
                            { year: 2025, month: 'August', optimalDays: 28 },
                            { year: 2026, month: 'April', optimalDays: 30 }
                        ]
                    },
                    'venus': {
                        name: 'Venus',
                        emoji: '‚ôÄÔ∏è',
                        distanceDisplay: '41 million km',
                        minDistanceKm: 38000000,
                        maxDistanceKm: 261000000,
                        avgDistanceKm: 41000000,
                        color: '#fbbf24',
                        rgb: '251, 191, 36',
                        distanceNote: 'Distance varies from 38M-261M km',
                        hohmannWindows: [
                            { year: 2026, month: 'July', optimalDays: 30 },
                            { year: 2028, month: 'March', optimalDays: 28 }
                        ]
                    },
                    'mars': {
                        name: 'Mars',
                        emoji: 'üî¥',
                        distanceDisplay: '78 million km',
                        minDistanceKm: 54600000,
                        maxDistanceKm: 401000000,
                        avgDistanceKm: 78000000,
                        color: '#ef4444',
                        rgb: '239, 68, 68',
                        distanceNote: 'Distance varies from 54.6M-401M km',
                        hohmannWindows: [
                            { year: 2026, month: 'November', optimalDays: 30 },
                            { year: 2029, month: 'January', optimalDays: 28 }
                        ]
                    },
                    'jupiter': {
                        name: 'Jupiter',
                        emoji: 'ü™ê',
                        distanceDisplay: '628 million km',
                        minDistanceKm: 588000000,
                        maxDistanceKm: 968000000,
                        avgDistanceKm: 628000000,
                        color: '#f97316',
                        rgb: '249, 115, 22',
                        distanceNote: 'Distance varies from 588M-968M km',
                        hohmannWindows: [
                            { year: 2025, month: 'September', optimalDays: 30 },
                            { year: 2026, month: 'October', optimalDays: 28 }
                        ]
                    },
                    'saturn': {
                        name: 'Saturn',
                        emoji: 'ü™ê',
                        distanceDisplay: '1.2 billion km',
                        minDistanceKm: 1200000000,
                        maxDistanceKm: 1660000000,
                        avgDistanceKm: 1200000000,
                        color: '#eab308',
                        rgb: '234, 179, 8',
                        distanceNote: 'Distance varies from 1.2B-1.66B km',
                        hohmannWindows: [
                            { year: 2026, month: 'June', optimalDays: 30 },
                            { year: 2027, month: 'June', optimalDays: 28 }
                        ]
                    },
                    'uranus': {
                        name: 'Uranus',
                        emoji: 'üîµ',
                        distanceDisplay: '2.7 billion km',
                        minDistanceKm: 2580000000,
                        maxDistanceKm: 3150000000,
                        avgDistanceKm: 2700000000,
                        color: '#06b6d4',
                        rgb: '6, 182, 212',
                        distanceNote: 'Distance varies from 2.58B-3.15B km',
                        hohmannWindows: [
                            { year: 2031, month: 'June', optimalDays: 30 },
                            { year: 2032, month: 'April', optimalDays: 28 }
                        ]
                    },
                    'neptune': {
                        name: 'Neptune',
                        emoji: 'üîµ',
                        distanceDisplay: '4.3 billion km',
                        minDistanceKm: 4300000000,
                        maxDistanceKm: 4700000000,
                        avgDistanceKm: 4300000000,
                        color: '#3b82f6',
                        rgb: '59, 130, 246',
                        distanceNote: 'Distance varies from 4.3B-4.7B km',
                        hohmannWindows: [
                            { year: 2028, month: 'December', optimalDays: 30 },
                            { year: 2030, month: 'January', optimalDays: 28 }
                        ]
                    },
                    'proxima': {
                        name: 'Proxima Centauri',
                        emoji: '‚≠ê',
                        distanceDisplay: '4.24 light-years',
                        distanceKm: 4.24 * 9.461e12,
                        color: '#fbbf24',
                        rgb: '251, 191, 36',
                        distanceNote: 'Fixed distance (nearest star to our solar system)',
                        hohmannWindows: []
                    },
                    'andromeda': {
                        name: 'Andromeda Galaxy',
                        emoji: 'üåå',
                        distanceDisplay: '2.5 million light-years',
                        distanceKm: 2.5e6 * 9.461e12,
                        color: '#8b5cf6',
                        rgb: '139, 92, 246',
                        distanceNote: 'Fixed distance (nearest major galaxy)',
                        hohmannWindows: []
                    }
                },

                propulsionSystems: {
                    'car': { name: 'Highway Speed', speed: 100, speedDisplay: '100 km/h' },
                    'jet': { name: 'Jet Aircraft', speed: 900, speedDisplay: '900 km/h' },
                    'blue-origin': { name: 'Blue Origin New Shepard', speed: 3600, speedDisplay: '3,600 km/h' },
                    'spacex-dragon': { name: 'SpaceX Dragon', speed: 27600, speedDisplay: '27,600 km/h' },
                    'spacex-starship': { name: 'SpaceX Starship', speed: 28000, speedDisplay: '28,000 km/h' },
                    'chemical': { name: 'Chemical Rocket', speed: 40000, speedDisplay: '40,000 km/h' },
                    'enterprise-nx01': { name: 'Enterprise NX-01 (Warp 5)', speed: 5397763406, speedDisplay: 'Warp 5 (125x Light Speed)' },
                    'enterprise-1701': { name: 'USS Enterprise NCC-1701 (Warp 8)', speed: 55834574327, speedDisplay: 'Warp 8 (512x Light Speed)' },
                    'enterprise-d': { name: 'Enterprise-D (Warp 9.6)', speed: 180776156663, speedDisplay: 'Warp 9.6 (1,649x Light Speed)' },
                    'voyager': { name: 'USS Voyager (Warp 9.975)', speed: 863013247550, speedDisplay: 'Warp 9.975 (7,912x Light Speed)' },
                    'defiant': { name: 'USS Defiant (Warp 9.5)', speed: 129659643770, speedDisplay: 'Warp 9.5 (1,190x Light Speed)' },
                    'borg-cube': { name: 'Borg Cube (Transwarp)', speed: 2158765619, speedDisplay: 'Transwarp (20,000x Light Speed)' },
                    'ion': { name: 'Ion Drive', speed: 200000, speedDisplay: '200,000 km/h' },
                    'fusion': { name: 'Fusion Ramjet', speed: 54000000, speedDisplay: '15% Light Speed' },
                    'light': { name: 'Light Speed', speed: 1079252849, speedDisplay: 'Speed of Light' }
                },

                init() {
                    this.calculateJourney();
                },

                selectDestination(key) {
                    this.selectedDestination = key;
                    this.calculateJourney();
                },

                calculateJourney() {
                    if (!this.selectedDestination || !this.selectedPropulsion) return;
                    const destination = this.destinations[this.selectedDestination];
                    const propulsion = this.propulsionSystems[this.selectedPropulsion];
                    this.currentDistance = destination.avgDistanceKm || destination.distanceKm;
                    this.currentSpeed = propulsion.speed;
                    this.travelTime = this.currentDistance / propulsion.speed;
                },

                calculateFuel() {
                    if (!this.selectedDestination || !this.selectedPropulsion) return 0;
                    const destination = this.destinations[this.selectedDestination];
                    const propulsion = this.propulsionSystems[this.selectedPropulsion];
                    const distance = destination.avgDistanceKm || destination.distanceKm;
                    let baseFuel = distance / 1000000;
                    const efficiencyMap = {
                        'car': 0.1, 'jet': 0.2, 'blue-origin': 0.4, 'spacex-dragon': 0.55, 'spacex-starship': 0.58,
                        'chemical': 0.6, 'enterprise-nx01': 0.85, 'enterprise-1701': 0.9, 'enterprise-d': 0.95,
                        'voyager': 0.97, 'defiant': 0.93, 'borg-cube': 0.99, 'ion': 0.8, 'fusion': 0.9, 'light': 1.0
                    };
                    const efficiency = efficiencyMap[this.selectedPropulsion] || 0.5;
                    baseFuel = baseFuel / efficiency;
                    if (distance > 9.461e12) {
                        baseFuel = Math.pow(distance / 9.461e12, 0.8) * 1000000;
                    }
                    return Math.round(baseFuel * 1000);
                },

                formatFuel(kg) {
                    if (kg < 1000) { return kg + ' kg'; }
                    else if (kg < 1000000) { return (kg / 1000).toFixed(1) + ' tons'; }
                    else if (kg < 1000000000) { return (kg / 1000000).toFixed(1) + ' kt'; }
                    else if (kg < 1000000000000) { return (kg / 1000000000).toFixed(1) + ' Mt'; }
                    else if (kg < 1000000000000000) { return (kg / 1000000000000).toFixed(1) + ' Gt'; }
                    else { return 'Theoretical'; }
                },

                formatTime(hours) {
                    if (hours < 1) { return Math.round(hours * 60) + ' minutes'; }
                    else if (hours < 24) { return hours.toFixed(1) + ' hours'; }
                    else if (hours < 24 * 365) { const days = Math.floor(hours / 24); return days.toLocaleString() + ' days'; }
                    else if (hours < 24 * 365 * 1000) { const years = Math.floor(hours / (24 * 365)); return years.toLocaleString() + ' years'; }
                    else if (hours < 24 * 365 * 1000000) { const thousands = Math.floor(hours / (24 * 365 * 1000)); return thousands.toLocaleString() + ' thousand years'; }
                    else { const millions = Math.floor(hours / (24 * 365 * 1000000)); return millions.toLocaleString() + ' million years'; }
                },

                formatSpeed(kmh) {
                    if (kmh < 1000) { return kmh.toFixed(0) + ' km/h'; }
                    else if (kmh < 1000000) { return (kmh / 1000).toFixed(1) + 'K km/h'; }
                    else { const lightSpeedPercent = (kmh / 1079252849) * 100; return lightSpeedPercent.toFixed(1) + '% light speed'; }
                },

                formatDistance(km) {
                    if (km < 1000000) { return (km / 1000).toFixed(0) + ' thousand km'; }
                    else if (km < 1000000000) { return (km / 1000000).toFixed(0) + ' million km'; }
                    else if (km < 9.461e12) { return (km / 1000000000).toFixed(1) + ' billion km'; }
                    else {
                        const lightYears = km / 9.461e12;
                        if (lightYears < 1000000) { return (lightYears / 1000).toFixed(1) + 'K light-years'; }
                        else { return (lightYears / 1000000).toFixed(1) + 'M light-years'; }
                    }
                },

                // ADDED: Function to open and prepare the modal
                openShareModal() {
                    this.shareImageUrl = this.generateShareImage();
                    this.showModal = true;
                },

                generateShareText() {
                    const destination = this.destinations[this.selectedDestination];
                    const propulsion = this.propulsionSystems[this.selectedPropulsion];
                    const travelTime = this.formatTime(this.travelTime);
                    const fuel = this.formatFuel(this.calculateFuel());
                    return `üöÄ Space Journey: ${destination.name} using ${propulsion.name} = ${travelTime} travel time & ${fuel} fuel! (Distance shown is average due to orbital variations) Plan your interstellar mission at docket.one`;
                },

                generateShareImage() {
                    const canvas = document.getElementById('shareCanvas');
                    const ctx = canvas.getContext('2d');
                    canvas.width = 1200;
                    canvas.height = 630;
                    const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
                    gradient.addColorStop(0, '#0a0a0f');
                    gradient.addColorStop(0.3, '#1a1a2e');
                    gradient.addColorStop(0.7, '#1a1a2e');
                    gradient.addColorStop(1, '#0a0a0f');
                    ctx.fillStyle = gradient;
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    ctx.fillStyle = '#ffffff';
                    for (let i = 0; i < 150; i++) {
                        const x = Math.random() * canvas.width; const y = Math.random() * canvas.height; const size = Math.random() * 2 + 0.5;
                        ctx.beginPath(); ctx.arc(x, y, size, 0, 2 * Math.PI); ctx.fill();
                    }
                    ctx.fillStyle = '#00d4ff';
                    for (let i = 0; i < 20; i++) {
                        const x = Math.random() * canvas.width; const y = Math.random() * canvas.height; const size = Math.random() * 1.5 + 1;
                        ctx.beginPath(); ctx.arc(x, y, size, 0, 2 * Math.PI); ctx.fill();
                    }
                    ctx.fillStyle = '#00d4ff';
                    ctx.font = 'bold 40px Inter, sans-serif'; ctx.textAlign = 'center';
                    ctx.fillText('SPACE TRAVEL TIME CALCULATOR', canvas.width / 2, 50);
                    const destination = this.destinations[this.selectedDestination];
                    const propulsion = this.propulsionSystems[this.selectedPropulsion];
                    const fuel = this.formatFuel(this.calculateFuel());
                    const leftColumnX = 300; const rightColumnX = 900; const startY = 120;
                    ctx.fillStyle = '#8b5cf6'; ctx.font = 'bold 28px Inter, sans-serif'; ctx.textAlign = 'left';
                    ctx.fillText('DESTINATION', leftColumnX - 150, startY);
                    ctx.font = '80px Inter, sans-serif';
                    ctx.fillText(destination.emoji, leftColumnX - 150, startY + 80);
                    ctx.fillStyle = '#ffffff'; ctx.font = 'bold 32px Inter, sans-serif';
                    ctx.fillText(destination.name, leftColumnX - 150, startY + 130);
                    ctx.fillStyle = '#94a3b8'; ctx.font = '20px Inter, sans-serif';
                    ctx.fillText(destination.distanceDisplay + ' (avg)', leftColumnX - 150, startY + 160);
                    ctx.fillStyle = '#8b5cf6'; ctx.font = '16px Inter, sans-serif';
                    ctx.fillText(destination.distanceNote, leftColumnX - 150, startY + 190);
                    if (destination.hohmannWindows && destination.hohmannWindows.length > 0) {
                        const tableStartY = startY + 230; ctx.fillStyle = '#00d4ff'; ctx.font = 'bold 20px Inter, sans-serif';
                        ctx.fillText('UPCOMING HOHMANN TRANSFER WINDOWS', leftColumnX - 150, tableStartY);
                        ctx.fillStyle = '#8b5cf6'; ctx.font = 'bold 16px Inter, sans-serif';
                        ctx.fillText('Year', leftColumnX - 150, tableStartY + 30); ctx.fillText('Month', leftColumnX - 50, tableStartY + 30); ctx.fillText('Days', leftColumnX + 50, tableStartY + 30);
                        ctx.fillStyle = '#ffffff'; ctx.font = '15px Inter, sans-serif';
                        destination.hohmannWindows.forEach((window, index) => {
                            const rowY = tableStartY + 55 + (index * 25);
                            ctx.fillText(window.year, leftColumnX - 150, rowY); ctx.fillText(window.month, leftColumnX - 50, rowY); ctx.fillText(window.optimalDays, leftColumnX + 50, rowY);
                        });
                        ctx.fillStyle = '#94a3b8'; ctx.font = '12px Inter, sans-serif';
                        ctx.fillText('Most fuel-efficient paths between planets', leftColumnX - 150, tableStartY + 120);
                    }
                    ctx.fillStyle = '#fbbf24'; ctx.font = 'bold 28px Inter, sans-serif'; ctx.textAlign = 'right';
                    ctx.fillText('MISSION DETAILS', rightColumnX, startY);
                    const detailsY = startY + 50; const lineHeight = 35; ctx.textAlign = 'right'; ctx.font = '22px Inter, sans-serif';
                    ctx.fillStyle = '#00d4ff'; ctx.fillText('üöÄ Propulsion:', rightColumnX, detailsY + lineHeight);
                    ctx.fillStyle = '#ffffff'; ctx.font = '20px Inter, sans-serif'; ctx.fillText(propulsion.name, rightColumnX, detailsY + lineHeight + 25);
                    ctx.fillStyle = '#00d4ff'; ctx.font = '22px Inter, sans-serif'; ctx.fillText('‚è±Ô∏è Travel Time:', rightColumnX, detailsY + lineHeight * 3);
                    ctx.fillStyle = '#fbbf24'; ctx.font = 'bold 28px Inter, sans-serif'; ctx.fillText(this.formatTime(this.travelTime), rightColumnX, detailsY + lineHeight * 3 + 30);
                    ctx.fillStyle = '#00d4ff'; ctx.font = '22px Inter, sans-serif'; ctx.fillText('‚ö° Speed:', rightColumnX, detailsY + lineHeight * 5);
                    ctx.fillStyle = '#ffffff'; ctx.font = '20px Inter, sans-serif'; ctx.fillText(this.formatSpeed(this.currentSpeed), rightColumnX, detailsY + lineHeight * 5 + 25);
                    ctx.fillStyle = '#00d4ff'; ctx.font = '22px Inter, sans-serif'; ctx.fillText('‚õΩ Fuel Required:', rightColumnX, detailsY + lineHeight * 7);
                    ctx.fillStyle = '#ffffff'; ctx.font = '20px Inter, sans-serif'; ctx.fillText(fuel, rightColumnX, detailsY + lineHeight * 7 + 25);
                    ctx.fillStyle = '#00d4ff'; ctx.font = '22px Inter, sans-serif'; ctx.fillText('üîÑ Round Trip:', rightColumnX , detailsY + lineHeight * 9);
                    ctx.fillStyle = '#8b5cf6'; ctx.font = 'bold 24px Inter, sans-serif'; ctx.fillText(this.formatTime(this.travelTime * 2), rightColumnX, detailsY + lineHeight * 9 + 25);
                    ctx.fillStyle = '#00d4ff'; ctx.font = 'bold 24px Inter, sans-serif'; ctx.textAlign = 'center';
                    ctx.fillText('Calculate your own space journey!', canvas.width / 2, 580);
                    ctx.fillStyle = '#fbbf24'; ctx.font = '20px Inter, sans-serif';
                    ctx.fillText('docket.one/pages/GeekGalaxy/Space Travel Time Calculator', canvas.width / 2, 610);
                    return canvas.toDataURL('image/png');
                },

                async shareOnTwitter() {
                    const text = this.generateShareText();
                    const calculatorUrl = 'https://docket.one/pages/GeekGalaxy/Space%20Travel%20Time%20Calculator.html';
                    if (navigator.share && navigator.canShare) {
                        try {
                            const imageDataUrl = this.generateShareImage(); const response = await fetch(imageDataUrl); const blob = await response.blob();
                            const file = new File([blob], `space-journey-${this.selectedDestination}.png`, { type: 'image/png' });
                            if (navigator.canShare({ files: [file] })) {
                                await navigator.share({ title: 'Space Travel Time Calculator', text: text, url: calculatorUrl, files: [file] });
                                return;
                            }
                        } catch (err) { console.log('Native sharing failed, falling back to Twitter web'); }
                    }
                    const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(calculatorUrl)}`;
                    window.open(twitterUrl, '_blank');
                },

                async shareOnFacebook() {
                    const calculatorUrl = 'https://docket.one/pages/GeekGalaxy/Space%20Travel%20Time%20Calculator.html';
                    const text = this.generateShareText();
                    if (navigator.share && navigator.canShare) {
                        try {
                            const imageDataUrl = this.generateShareImage(); const response = await fetch(imageDataUrl); const blob = await response.blob();
                            const file = new File([blob], `space-journey-${this.selectedDestination}.png`, { type: 'image/png' });
                            if (navigator.canShare({ files: [file] })) {
                                await navigator.share({ title: 'Space Travel Time Calculator', text: text, url: calculatorUrl, files: [file] });
                                return;
                            }
                        } catch (err) { console.log('Native sharing failed, falling back to Facebook web'); }
                    }
                    const facebookUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(calculatorUrl)}&quote=${encodeURIComponent(text)}`;
                    window.open(facebookUrl, '_blank');
                },

                async shareOnLinkedIn() {
                    const text = this.generateShareText();
                    const calculatorUrl = 'https://docket.one/pages/GeekGalaxy/Space%20Travel%20Time%20Calculator.html';
                    if (navigator.share && navigator.canShare) {
                        try {
                            const imageDataUrl = this.generateShareImage(); const response = await fetch(imageDataUrl); const blob = await response.blob();
                            const file = new File([blob], `space-journey-${this.selectedDestination}.png`, { type: 'image/png' });
                            if (navigator.canShare({ files: [file] })) {
                                await navigator.share({ title: 'Space Travel Time Calculator', text: text, url: calculatorUrl, files: [file] });
                                return;
                            }
                        } catch (err) { console.log('Native sharing failed, falling back to LinkedIn web'); }
                    }
                    const linkedInUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(calculatorUrl)}&summary=${encodeURIComponent(text)}`;
                    window.open(linkedInUrl, '_blank');
                },

                async shareGeneral() {
                    const text = this.generateShareText();
                    const calculatorUrl = 'https://docket.one/pages/GeekGalaxy/Space%20Travel%20Time%20Calculator.html';
                    if (navigator.share) {
                        try {
                            const imageDataUrl = this.generateShareImage(); const response = await fetch(imageDataUrl); const blob = await response.blob();
                            const file = new File([blob], `space-journey-${this.selectedDestination}-${this.selectedPropulsion}.png`, { type: 'image/png' });
                            if (navigator.canShare && navigator.canShare({ files: [file] })) {
                                await navigator.share({ title: 'Space Travel Time Calculator - Mission Brief', text: text, url: calculatorUrl, files: [file] });
                            } else {
                                await navigator.share({ title: 'Space Travel Time Calculator', text: text, url: calculatorUrl });
                            }
                            return;
                        } catch (err) {
                            if (err.name !== 'AbortError') { console.log('Web Share API failed:', err); }
                        }
                    }
                    try {
                        await navigator.clipboard.writeText(`${text} ${calculatorUrl}`);
                        alert('‚úÖ Mission details copied to clipboard!\n\nYou can now paste this into any social media platform. The image has been downloaded separately for you to attach.');
                        this.downloadImage();
                    } catch (err) {
                        console.error('Clipboard failed:', err);
                        alert('Please manually copy the mission details and download the image to share on your preferred platform.');
                        this.downloadImage();
                    }
                },

                shareOnReddit() {
                    const text = this.generateShareText();
                    const calculatorUrl = 'https://docket.one/pages/GeekGalaxy/Space%20Travel%20Time%20Calculator.html';
                    const redditUrl = `https://reddit.com/submit?title=${encodeURIComponent(text)}&url=${encodeURIComponent(calculatorUrl)}`;
                    window.open(redditUrl, '_blank');
                },

                // MODIFIED: copyShareLink now provides UI feedback within the modal
                async copyShareLink(buttonElement) {
                    const calculatorUrl = 'https://docket.one/pages/GeekGalaxy/Space%20Travel%20Time%20Calculator.html';
                    try {
                        await navigator.clipboard.writeText(calculatorUrl);
                        const originalHtml = buttonElement.innerHTML;
                        buttonElement.innerHTML = '<span>‚úÖ</span><span>Copied!</span>';
                        buttonElement.disabled = true;
                        setTimeout(() => {
                            buttonElement.innerHTML = originalHtml;
                            buttonElement.disabled = false;
                        }, 2000);
                    } catch (err) {
                        console.error('Failed to copy link:', err);
                        alert('Failed to copy link. Please copy it manually.');
                    }
                },

                downloadImage() {
                    const imageDataUrl = this.generateShareImage();
                    const link = document.createElement('a');
                    link.download = `space-journey-${this.selectedDestination}-${this.selectedPropulsion}.png`;
                    link.href = imageDataUrl;
                    link.click();
                }
            }
        }
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
            const navLinks = document.querySelector('.nav-links');

            if (mobileMenuBtn && navLinks) {
                mobileMenuBtn.addEventListener('click', function () {
                    navLinks.classList.toggle('active');
                    mobileMenuBtn.classList.toggle('active');
                });

                document.addEventListener('click', function (event) {
                    if (!event.target.closest('.main-nav')) {
                        navLinks.classList.remove('active');
                        mobileMenuBtn.classList.remove('active');
                    }
                });
            }
        });
    </script>
    <!-- Newsletter Bar -->
    <div class="newsletter-bar" x-data="newsletterForm()">
        <div class="newsletter-container">
            <div class="newsletter-content">
                <div class="newsletter-info">
                    <h3>üéâ Join Our Calculator Community!</h3>
                    <p>Get updates on new fun calculators and practical tools</p>
                </div>
                <form class="newsletter-form" @submit.prevent="submitNewsletter()" x-show="!showSuccess">
                    <input type="email" class="newsletter-input" placeholder="Enter your email for calculator updates"
                        x-model="email" required>
                    <button type="submit" class="newsletter-submit" :disabled="isSubmitting">
                        <span x-show="isSubmitting" class="loading-spinner"></span>
                        <span x-text="isSubmitting ? 'Subscribing...' : 'üöÄ Subscribe'"></span>
                    </button>
                </form>
                <div x-show="showSuccess" class="newsletter-success">
                    <p style="color: var(--accent-light); font-weight: 600;">
                        ‚úÖ Awesome! You'll get updates on the coolest new calculators!
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>üéÆ About Docket.One</h4>
                    <p>Making life easier (and more fun) with calculators that actually matter. From figuring out if you
                        should buy a car or just Uber everywhere, to calculating your caffeine half-life, we've got the
                        tools for modern life.</p>
                    <p>Practical meets playful. Because adulting is hard enough.</p>
                </div>

                <div class="footer-section">
                    <h4>üéØ Calculator Categories</h4>
                    <ul class="footer-links">
                        <li><a href="https://docket.one/pages/BigKidMath/"><span class="calculator-emoji">üß†</span>
                                BigKidMath - Adult Life Tools</a></li>
                        <li><a href="https://docket.one/pages/CipherLab/"><span class="calculator-emoji">üîê</span>
                                CipherLab - Secret Codes & Security</a>
                        </li>
                        <li><a href="https://docket.one/pages/GeekGalaxy/"><span class="calculator-emoji">üöÄ</span>
                                GeekGalaxy - Sci-Fi & Fantasy Fun</a></li>
                        <li><a href="https://docket.one/pages/LifeHacks/"><span class="calculator-emoji">‚ö°</span>
                                LifeHacks - Productivity & Wellness</a></li>
                        <li><a href="https://docket.one/pages/Math_Magik/"><span class="calculator-emoji">üßô‚Äç‚ôÄÔ∏è</span>
                                Math Magik - Mathematical Wizardry</a>
                        </li>
                        <li><a href="https://docket.one/pages/Otaku_Ops/"><span class="calculator-emoji">üóæ</span> Otaku
                                Ops - Anime & Culture</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h4>üí¨ Support & Info</h4>
                    <ul class="footer-links">
                        <li><a href="pages/support/help.html"><span class="calculator-emoji">‚ùì</span> Help &
                                FAQ</a></li>
                        <li><a href="pages/support/privacy.html"><span class="calculator-emoji">üîí</span> Privacy
                                Policy</a></li>
                        <li><a href="pages/support/terms.html"><span class="calculator-emoji">üìã</span> Terms of
                                Service</a></li>
                        <li><a href="pages/support/accessibility.html"><span class="calculator-emoji">‚ôø</span>
                                Accessibility</a></li>
                        <li><a href="pages/support/contact.html"><span class="calculator-emoji">üìß</span> Contact
                                Us</a></li>
                    </ul>
                </div>
            </div>

            <div class="footer-bottom">
                <div class="footer-logo">üßÆ Docket.One</div>
                <div class="footer-copyright">
                    ¬© 2025 Docket.One. All rights reserved. Making calculations fun since... well, recently!
                </div>
                <div class="social-links">
                    <a href="#" class="social-link" aria-label="Twitter">ùïè</a>
                    <a href="#" class="social-link" aria-label="LinkedIn">üíº</a>
                    <a href="#" class="social-link" aria-label="GitHub">üêô</a>
                    <a href="#" class="social-link" aria-label="Email">üìß</a>
                </div>
            </div>
        </div>
    </footer>

</body>

</html>