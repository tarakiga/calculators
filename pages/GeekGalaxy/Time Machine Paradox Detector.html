<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Basic Meta -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>Temporal Paradox Analysis Engine | GeekGalaxy | Docket One</title>
    <meta name="description" content="A premium time travel paradox calculator. Plan your temporal mission, visualize timeline fractures in real-time, and analyze the risk of Grandfather, Bootstrap, and Predestination paradoxes.">
    <meta name="keywords" content="time travel calculator, paradox detector, grandfather paradox, bootstrap paradox, time machine, sci-fi calculator, temporal mechanics, geek tools">
    <meta name="author" content="Docket One">

    <!-- Cache Control -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://docket.one/pages/GeekGalaxy/Time%20Machine%20Paradox%20Detector.html" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://docket.one/pages/GeekGalaxy/Time%20Machine%20Paradox%20Detector.html">
    <meta property="og:title" content="Temporal Paradox Analysis Engine | GeekGalaxy | Docket One">
    <meta property="og:description" content="A premium time travel paradox calculator. Plan your temporal mission, visualize timeline fractures in real-time, and analyze the risk of Grandfather, Bootstrap, and Predestination paradoxes.">
    <meta property="og:image" content="https://docket.one/images/geekgalaxy-paradox-social-preview.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="Docket One">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://docket.one/pages/GeekGalaxy/Time%20Machine%20Paradox%20Detector.html">
    <meta name="twitter:title" content="Temporal Paradox Analysis Engine | GeekGalaxy | Docket One">
    <meta name="twitter:description" content="A premium time travel paradox calculator. Plan your temporal mission, visualize timeline fractures in real-time, and analyze the risk of Grandfather, Bootstrap, and Predestination paradoxes.">
    <meta name="twitter:image" content="https://docket.one/images/geekgalaxy-paradox-social-preview.jpg">
    <meta property="twitter:site" content="@DocketOne">

    <!-- Dependencies -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@400;700&family=Orbitron:wght@500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Versioned Assets -->
    <link rel="stylesheet" href="../../common/santa-improvements.css?v=20250609">
    <link rel="stylesheet" href="../../common/global-calculator.css?v=20250609">
    <link rel="stylesheet" href="../../common/themes/dark-theme.css?v=20250609">
    <link rel="stylesheet" href="../../common/footer/premium-footer.css?v=20250609">
    <link rel="stylesheet" href="../../styles/paradox.css?v=20250609">
    <link rel="stylesheet" href="../../common/navbar-enhanced.css?v=20250609">
    <script src="../../common/navbar-enhanced.js"></script>
    <script src="../../common/footer/footer-inject.js"></script>
    <script src="../../common/add-keyboard-accessibility.js"></script>
</head>

<body x-data="paradoxDetector()" x-init="init()">
    <!-- Navigation (Handled by JS) -->
    <div class="container text-center py-8">
        <h1 class="font-display text-4xl md:text-5xl font-extrabold text-white uppercase tracking-wider">
            Chronos <span class="text-cyan-400">Anomaly</span> Detection Engine
        </h1>
        <p class="text-lg text-gray-400 mt-2">Calibrate your temporal mission. Monitor timeline integrity.</p>
    </div>

    <main class="layout">
        <!-- Controls Panel -->
        <aside class="panel">
            <h2 class="panel-title">Mission Parameters</h2>
            
            <div class="control-group">
                <label class="control-label">Target Era</label>
                <input type="number" x-model.number="mission.targetYear" placeholder="e.g., 1985">
            </div>
            
            <div class="control-group">
                <label class="control-label">Target Significance</label>
                <select x-model="mission.targetSignificance">
                    <option value="none">None (Empty space/time)</option>
                    <option value="personal">Personal Ancestor</option>
                    <option value="event">Historical Event</option>
                    <option value="linchpin">Causal Linchpin (e.g., Hitler)</option>
                </select>
            </div>

            <div class="control-group">
                <label class="control-label">Action Intensity</label>
                <input type="range" min="0" max="100" x-model.number="mission.actionIntensity">
                 <div class="text-xs text-center text-muted mt-2" x-text="getActionDescriptor(mission.actionIntensity)"></div>
            </div>

            <div class="control-group">
                <label class="control-label">Paradigm</label>
                 <select x-model="mission.paradigm">
                    <option value="fixed">Fixed Timeline (Predestination)</option>
                    <option value="dynamic">Dynamic Timeline (Malleable)</option>
                    <option value="multiverse">Multiverse (Branching Timelines)</option>
                </select>
            </div>
        </aside>

        <!-- Analysis Dashboard -->
        <section class="panel">
            <h2 class="panel-title">Real-time Analysis</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 items-center">
                <!-- Timeline Visualization -->
                <div>
                    <h3 class="control-label text-center">Timeline Integrity</h3>
                    <div class="timeline-viz">
                        <svg width="100%" height="100%" viewBox="0 0 300 100">
                            <path id="timelinePath" :d="svgPaths.main"></path>
                            <path id="divergentPath" :d="svgPaths.divergent"></path>
                        </svg>
                    </div>
                    <p class="text-center text-sm text-muted">Butterfly Effect Potential: <span class="font-bold text-yellow-400" x-text="results.butterflyEffect + '%'"></span></p>
                </div>
                
                <!-- Paradox Risk Gauge -->
                <div class="text-center">
                    <h3 class="control-label text-center">Paradox Risk</h3>
                    <div class="risk-gauge-container">
                        <div class="risk-gauge-track"></div>
                        <div class="risk-gauge-fill" :style="`transform: rotate(${results.paradoxRisk * 1.8}deg)`"></div>
                        <div class="risk-readout">
                            <span class="risk-value" x-text="results.paradoxRisk + '%'"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
                <!-- Paradox Breakdown -->
                <div>
                    <h3 class="control-label">Specific Paradox Threats</h3>
                    <ul class="paradox-breakdown">
                        <li :style="{opacity: results.paradoxes.grandfather / 100 + 0.2}"><span>Grandfather Paradox</span><strong x-text="results.paradoxes.grandfather + '%'"></strong></li>
                        <li :style="{opacity: results.paradoxes.bootstrap / 100 + 0.2}"><span>Bootstrap Paradox</span><strong x-text="results.paradoxes.bootstrap + '%'"></strong></li>
                        <li :style="{opacity: results.paradoxes.predestination / 100 + 0.2}"><span>Predestination Paradox</span><strong x-text="results.paradoxes.predestination + '%'"></strong></li>
                    </ul>
                </div>

                <!-- Mission Summary -->
                <div class="bg-gray-900/50 p-4 rounded-lg">
                     <h3 class="control-label">Mission Summary</h3>
                     <div class="text-center">
                        <p class="text-sm text-muted">Temporal Threat Level</p>
                        <p class="font-display text-2xl" :style="`color: ${results.threatColor}`" x-text="results.threatLevel"></p>
                        <p class="text-sm mt-2" x-text="results.summary"></p>
                     </div>
                </div>
            </div>
             <div class="flex justify-end mt-6">
                <button @click="showShareModal = true" class="bg-cyan-500 text-black font-bold py-2 px-4 rounded-md flex items-center gap-2">
                    <i class="fas fa-share-alt"></i> LOG MISSION DOSSIER
                </button>
            </div>
        </section>

         <!-- Share Modal and Canvas -->
        <div x-show="showShareModal" x-cloak class="modal-overlay" @click.self="showShareModal = false" style="display: none;">
            <div class="modal-content" @click.stop>
                <div class="modal-header"><h2 class="modal-title">ðŸ“„ Transmit Dossier</h2><button class="modal-close" @click="showShareModal = false">Ã—</button></div>
                <div class="modal-body">
                    <div class="share-modal-grid">
                        <button class="share-modal-button" @click="shareGeneral(); showShareModal = false"><span class="share-modal-icon">ðŸ“±</span> Share Card </button>
                        <button class="share-modal-button" @click="copyShareLink(); showShareModal = false"><span class="share-modal-icon">ðŸ”—</span> Copy Link </button>
                        <button class="share-modal-button" @click="downloadImage(); showShareModal = false"><span class="share-modal-icon">ðŸ’¾</span> Download Card </button>
                    </div>
                </div>
            </div>
        </div>
        <canvas id="shareCanvas" width="1200" height="630" style="display: none;"></canvas>
    </main>
    
    <script>
        function paradoxDetector() {
            return {
                showShareModal: false,
                mission: { targetYear: 1955, targetSignificance: 'personal', actionIntensity: 10, paradigm: 'dynamic' },
                results: { paradoxRisk: 0, butterflyEffect: 0, threatLevel: '', threatColor: '', summary: '', paradoxes: { grandfather: 0, bootstrap: 0, predestination: 0 } },
                svgPaths: { main: 'M 0 50 H 300', divergent: 'M 150 50 C 200 50, 250 50, 300 50' },

                init() {
                    const debouncedCalc = this.debounce(this.calculate, 200);
                    this.$watch('mission', debouncedCalc, { deep: true });
                    this.calculate();
                },
                debounce(func, wait) { let timeout; return (...args) => { clearTimeout(timeout); timeout = setTimeout(() => func.apply(this, args), wait); }; },
                
                getActionDescriptor(intensity) {
                    if (intensity == 0) return 'Pure Observation'; if (intensity <= 25) return 'Minor Interaction';
                    if (intensity <= 50) return 'Significant Interaction'; if (intensity <= 75) return 'Causal Alteration';
                    return 'Timeline Elimination';
                },

                calculate() {
                    let risk = 0; let butterfly = 0;
                    let p_grand = 0; let p_boot = 0; let p_pred = 0;

                    const intensity = this.mission.actionIntensity / 100;
                    const yearsAgo = new Date().getFullYear() - this.mission.targetYear;
                    
                    // Base risk from intensity
                    risk = intensity * 100;
                    butterfly = intensity * 100;

                    // Significance modifier
                    const sigMods = { none: 0.8, personal: 1.5, event: 2.0, linchpin: 4.0 };
                    risk *= sigMods[this.mission.targetSignificance];
                    butterfly *= sigMods[this.mission.targetSignificance] * 0.5;

                    // Temporal distance modifier (more recent = more risk)
                    const distMod = 1 / (Math.log10(yearsAgo < 1 ? 1 : yearsAgo) + 1);
                    risk *= distMod * 2;

                    // Paradigm modifier
                    const paraMods = { fixed: 0.1, dynamic: 1.0, multiverse: 0.05 };
                    risk *= paraMods[this.mission.paradigm];
                    
                    // Specific Paradox Risks
                    if(this.mission.paradigm === 'dynamic' || this.mission.paradigm === 'multiverse') {
                        if(this.mission.targetSignificance === 'personal') p_grand = intensity * 80;
                    }
                    if(this.mission.paradigm === 'dynamic') {
                        if(this.mission.targetSignificance === 'event') p_boot = intensity * 50;
                    }
                    if(this.mission.paradigm === 'fixed') {
                        p_pred = intensity * 90;
                        risk += p_pred / 5; // Predestination adds to overall risk differently
                    }

                    // Finalize results
                    this.results.paradoxRisk = Math.min(100, Math.round(risk));
                    this.results.butterflyEffect = Math.min(100, Math.round(butterfly));
                    this.results.paradoxes = {
                        grandfather: Math.min(100, Math.round(p_grand)),
                        bootstrap: Math.min(100, Math.round(p_boot)),
                        predestination: Math.min(100, Math.round(p_pred))
                    };

                    this.generateAnalysis();
                    this.updateTimelineViz();
                },

                generateAnalysis() {
                    const risk = this.results.paradoxRisk;
                    if (risk >= 80) { this.results.threatLevel = 'Causality Collapse'; this.results.threatColor = '#f44336'; this.results.summary = 'Mission parameters guarantee catastrophic damage to the timeline. ABORT IMMEDIATELY.'; }
                    else if (risk >= 60) { this.results.threatLevel = 'Critical Paradox'; this.results.threatColor = '#ff9800'; this.results.summary = 'High probability of creating a paradox. Significant timeline alteration expected.'; }
                    else if (risk >= 30) { this.results.threatLevel = 'Temporal Anomaly'; this.results.threatColor = '#ffeb3b'; this.results.summary = 'Mission will cause noticeable ripples and unpredictable changes. Proceed with extreme caution.'; }
                    else if (risk >= 5) { this.results.threatLevel = 'Minor Fluctuation'; this.results.threatColor = '#00bcd4'; this.results.summary = 'Low risk, but small changes are still possible. Adhere to observational protocols.'; }
                    else { this.results.threatLevel = 'Stable Closed Loop'; this.results.threatColor = '#4caf50'; this.results.summary = 'Mission parameters are safe. No significant risk to timeline integrity detected.'; }
                },

                updateTimelineViz() {
                    const divergencePoint = 150;
                    const endPoint = 300;
                    const butterfly = this.results.butterflyEffect / 100;
                    
                    const mainY = 50;
                    const control1Y = mainY + (butterfly * 50 * (Math.random() > 0.5 ? 1 : -1));
                    const control2Y = mainY + (butterfly * 20 * (Math.random() > 0.5 ? 1 : -1));
                    const endY = mainY + (butterfly * 80 * (Math.random() > 0.5 ? 1 : -1));
                    
                    this.svgPaths.main = `M 0 50 H ${divergencePoint}`;
                    this.svgPaths.divergent = `M ${divergencePoint} 50 C ${divergencePoint+50} ${control1Y}, ${divergencePoint+100} ${control2Y}, ${endPoint} ${endY}`;
                },

                generateShareImage() {
                    const canvas = document.getElementById('shareCanvas'); const ctx = canvas.getContext('2d');
                    ctx.fillStyle = '#0a0a14'; ctx.fillRect(0, 0, 1200, 630);
                    ctx.textAlign = 'center'; ctx.font = "bold 48px 'Orbitron', sans-serif";
                    ctx.fillStyle = '#00bcd4'; ctx.fillText('TEMPORAL MISSION DOSSIER', 600, 80);
                    
                    ctx.font = "bold 96px 'Orbitron', sans-serif"; ctx.fillStyle = this.results.threatColor;
                    ctx.fillText(this.results.threatLevel.toUpperCase(), 600, 180);

                    ctx.font = "bold 160px 'Orbitron', sans-serif"; ctx.fillStyle = '#e0e0e0';
                    ctx.fillText(this.results.paradoxRisk + '%', 600, 330);
                    ctx.font = "32px 'Roboto Condensed', sans-serif"; ctx.fillText('PARADOX RISK', 600, 370);
                    
                    ctx.textAlign = 'left'; ctx.font = "bold 28px 'Roboto Condensed', sans-serif";
                    ctx.fillStyle = '#e0e0e0';
                    ctx.fillText(`Grandfather: ${this.results.paradoxes.grandfather}%`, 150, 480);
                    ctx.fillText(`Bootstrap: ${this.results.paradoxes.bootstrap}%`, 150, 530);
                    ctx.fillText(`Predestination: ${this.results.paradoxes.predestination}%`, 650, 480);
                    ctx.fillText(`Butterfly Effect: ${this.results.butterflyEffect}%`, 650, 530);
                    
                    ctx.textAlign = 'center'; ctx.font = "24px 'Orbitron', sans-serif"; ctx.fillStyle = '#ffeb3b';
                    ctx.fillText('docket.one/pages/GeekGalaxy/', 600, 600);
                    return canvas.toDataURL('image/png');
                },
                generateShareText() { return `My time travel mission has a ${this.results.paradoxRisk}% paradox risk, resulting in a "${this.results.threatLevel}" event. Calculate your own temporal anomalies!`; },
                async shareGeneral() { if (!navigator.share) { this.downloadImage(); alert('Image downloaded.'); return; } try { const r = await fetch(this.generateShareImage()); const b = await r.blob(); const f = new File([b], 'temporal-dossier.png', { type: 'image/png' }); await navigator.share({ title: 'Temporal Mission Dossier', text: this.generateShareText(), files: [f] }); } catch (e) { console.error(e); } },
                async copyShareLink() { try { await navigator.clipboard.writeText(window.location.href); alert('Link copied!'); } catch (err) { alert('Failed to copy.'); } },
                downloadImage() { const link = document.createElement('a'); link.download = 'temporal-dossier.png'; link.href = this.generateShareImage(); link.click(); }
            }
        }
    </script>
	<!-- Footer (Handled by JS) -->
</body>
</html>